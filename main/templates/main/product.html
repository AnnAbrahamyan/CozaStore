{%  extends 'extend/base2.html' %}

{% block 'content' %}
	{% load static %}
	<style>
		.pagination-wrapper {
			display: flex;
			justify-content: center;
			margin-top: 20px;
		}
		
		.pagination {
			list-style: none;
			padding: 0;
			display: flex;
		}
		
		.pagination .page-item {
			margin: 0 5px;
		}
		
		.pagination .page-link {
			display: block;
			padding: 10px 15px;
			background: #fff;
			border: 1px solid #222;
			color: #222;
			text-decoration: none;
			border-radius: 5px;
			transition: background-color 0.3s, color 0.3s;
		}
		
		.pagination .page-link:hover {
			background-color: #222;
			color: #fff;
		}
		
		.pagination .active .page-link {
			background-color: #222;
			color: #fff;
			border-color: #222;
		}
		
	</style>

	<!-- Product -->
	<div class="bg0 m-t-23 p-b-140">
		<div class="container">
			<div class="flex-w flex-sb-m p-b-52">
				<div class="flex-w flex-l-m filter-tope-group m-tb-10">
					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5 how-active1" data-filter="*">
						All Products
					</button>

					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5" data-filter=".women">
						Women
					</button>

					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5" data-filter=".men">
						Men
					</button>

					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5" data-filter=".bag">
						Bag
					</button>

					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5" data-filter=".shoes">
						Shoes
					</button>

					<button class="stext-106 cl6 hov1 bor3 trans-04 m-r-32 m-tb-5" data-filter=".watches">
						Watches
					</button>
				</div>

				<div class="flex-w flex-c-m m-tb-10">
					<div class="flex-c-m stext-106 cl6 size-104 bor4 pointer hov-btn3 trans-04 m-r-8 m-tb-4 js-show-filter">
						<i class="icon-filter cl2 m-r-6 fs-15 trans-04 zmdi zmdi-filter-list"></i>
						<i class="icon-close-filter cl2 m-r-6 fs-15 trans-04 zmdi zmdi-close dis-none"></i>
						 Filter
					</div>
				</div>
				
				<!-- Search product -->
				<div class="dis-none panel-search w-full p-t-10 p-b-15">
					<div class="bor8 dis-flex p-l-15">
						<button class="size-113 flex-c-m fs-16 cl2 hov-cl1 trans-04">
							<i class="zmdi zmdi-search"></i>
						</button>

						<input class="mtext-107 cl2 size-114 plh2 p-r-15" type="text" name="search-product" placeholder="Search">
					</div>	
				</div>

				<!-- Filter -->
				<div class="dis-none panel-filter w-full p-t-10">
					<div class="wrap-filter flex-w bg6 w-full p-lr-40 p-t-27 p-lr-15-sm">
						<div class="filter-col1 p-r-15 p-b-27">
							<div class="mtext-102 cl2 p-b-15">
								Sort By
							</div>
							<ul>
								<li class="p-b-6">
									<a href="?sort_by=default" class="filter-link stext-106 trans-04 {% if request.GET.sort_by == 'default' %}filter-link-active{% endif %}">
										Default
									</a>
								</li>
								<li class="p-b-6">
									<a href="?sort_by=rating" class="filter-link stext-106 trans-04 {% if request.GET.sort_by == 'rating' %}filter-link-active{% endif %}">
										Average rating
									</a>
								</li>
								<li class="p-b-6">
									<a href="?sort_by=price_low_high" class="filter-link stext-106 trans-04 {% if request.GET.sort_by == 'price_low_high' %}filter-link-active{% endif %}">
										Price: Low to High
									</a>
								</li>
								<li class="p-b-6">
									<a href="?sort_by=price_high_low" class="filter-link stext-106 trans-04 {% if request.GET.sort_by == 'price_high_low' %}filter-link-active{% endif %}">
										Price: High to Low
									</a>
								</li>
							</ul>
						</div>
						
				
						<div class="filter-col2 p-r-15 p-b-27">
							<div class="mtext-102 cl2 p-b-15">
								Price
							</div>
							<ul>
								<li class="p-b-6">
									<a href="?price=all" class="filter-link stext-106 trans-04 {% if request.GET.price == 'all' %}filter-link-active{% endif %}">
										All
									</a>
								</li>
								<li class="p-b-6">
									<a href="?price=0-50" class="filter-link stext-106 trans-04 {% if request.GET.price == '0-50' %}filter-link-active{% endif %}">
										$0.00 - $50.00
									</a>
								</li>
								<li class="p-b-6">
									<a href="?price=50-100" class="filter-link stext-106 trans-04 {% if request.GET.price == '50-100' %}filter-link-active{% endif %}">
										$50.00 - $100.00
									</a>
								</li>
								<li class="p-b-6">
									<a href="?price=100-150" class="filter-link stext-106 trans-04 {% if request.GET.price == '100-150' %}filter-link-active{% endif %}">
										$100.00 - $150.00
									</a>
								</li>
								<li class="p-b-6">
									<a href="?price=150-200" class="filter-link stext-106 trans-04 {% if request.GET.price == '150-200' %}filter-link-active{% endif %}">
										$150.00 - $200.00
									</a>
								</li>
								<li class="p-b-6">
									<a href="?price=200+" class="filter-link stext-106 trans-04 {% if request.GET.price == '200+' %}filter-link-active{% endif %}">
										$200.00+
									</a>
								</li>
							</ul>
						</div>
				
						<div class="filter-col3 p-r-15 p-b-27">
							<div class="mtext-102 cl2 p-b-15">
								Color
							</div>
							<ul>
								{% for color in colors %}
									<li class="p-b-6">
										<span class="fs-15 lh-12 m-r-6" style="color: {{ color }};">
											<i class="zmdi zmdi-circle"></i>
										</span>
										<a href="?color={{ color }}" class="filter-link stext-106 trans-04 {% if request.GET.color == color %}filter-link-active{% endif %}">
											{{ color }}
										</a>
									</li>
								{% endfor %}
							</ul>
						</div>
					</div>
				</div>
			</div>

			<div class="row isotope-grid">
				{% for product in products %}
				<div class="col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item {{ product.owner_detector.owner_detector }}">
					<!-- Block2 -->
					<div class="block2">
						<div class="block2-pic hov-img0">
							{% for img in product.img.all %}
								{% if forloop.first %}
									<img src="{{ img.img.url }}" alt="IMG-PRODUCT">
								{% endif %}
							{% endfor %}
						</div>

						<div class="block2-txt flex-w flex-t p-t-14">
							<div class="block2-txt-child1 flex-col-l ">
								<a href="{% url 'product_detail' product.id product.code %}" class="stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6">
									{{ product.product_name }}
								</a>

								<span class="stext-105 cl3">
									${{ product.price }}
								</span>
							</div>

							<div class="block2-txt-child2 flex-r p-t-3">
								<a href="#" class="btn-addwish-b2 dis-block pos-relative" data-product-id="{{ product.id }}">
									{% if product.id in liked_product_ids %}
										<img class="icon-heart1 dis-block trans-04" src="{% static 'images/icons/icon-heart-02.png' %}" alt="ICON">
										<img class="icon-heart2 dis-block trans-04 ab-t-l" src="{% static 'images/icons/icon-heart-01.png' %}" alt="ICON">
									{% else %}
										<img class="icon-heart1 dis-block trans-04" src="{% static 'images/icons/icon-heart-01.png' %}" alt="ICON">
										<img class="icon-heart2 dis-block trans-04 ab-t-l" src="{% static 'images/icons/icon-heart-02.png' %}" alt="ICON">
									{% endif %}
								</a>
							</div>
						</div>
					</div>
				</div>

				{% endfor %}
			</div>

			<div class="pagination-wrapper flex-c-m flex-w w-full p-t-45">
				{% if is_paginated %}
				<ul class="pagination">
					{% if page_obj.has_previous %}
					<li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
					{% endif %}
			
					{% for num in page_obj.paginator.page_range %}
						{% if page_obj.number == num %}
						<li class="page-item active"><span class="page-link">{{ num }}</span></li>
						{% elif num > page_obj.number|add:-3 and num < page_obj.number|add:3 %}
						<li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
						{% endif %}
					{% endfor %}
			
					{% if page_obj.has_next %}
					<li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
					{% endif %}
				</ul>
				{% endif %}
			</div>
		</div>
	</div>
<script src="{% static 'js/like.js' %}"></script>	

	
{% endblock %}
	